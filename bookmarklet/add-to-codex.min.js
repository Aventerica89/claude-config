javascript:(async()=>{const s=window.getSelection().toString().trim();if(!s){alert('❌ Select text first!');return;}const o=document.createElement('div');o.style.cssText='position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);z-index:999998;display:flex;align-items:center;justify-content:center;font-family:system-ui;';const f=document.createElement('div');f.style.cssText='background:white;border-radius:12px;padding:32px;max-width:500px;width:90%;box-shadow:0 20px 25px rgba(0,0,0,0.3);';f.innerHTML=`<h2 style="margin:0 0 20px;color:#1f2937;font-size:24px;">Add to Codex</h2><div style="margin-bottom:16px;"><label style="display:block;margin-bottom:8px;color:#374151;font-weight:600;font-size:14px;">Name</label><input type="text" id="codex-name" placeholder="e.g. React hook" style="width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;"></div><div style="margin-bottom:16px;"><label style="display:block;margin-bottom:8px;color:#374151;font-weight:600;font-size:14px;">Category</label><select id="codex-category" style="width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;"><option value="skills/learned">Skill</option><option value="commands">Command</option><option value="agents">Agent</option><option value="rules">Rule</option></select></div><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;color:#374151;font-weight:600;font-size:14px;">Description</label><textarea id="codex-desc" placeholder="What does this do?" style="width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;min-height:80px;"></textarea></div><div style="display:flex;gap:12px;"><button id="codex-submit" style="flex:1;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:6px;font-weight:600;cursor:pointer;">Add</button><button id="codex-cancel" style="padding:12px 20px;background:#e5e7eb;color:#374151;border:none;border-radius:6px;font-weight:600;cursor:pointer;">Cancel</button></div>`;o.appendChild(f);document.body.appendChild(o);document.getElementById('codex-cancel').onclick=()=>o.remove();document.getElementById('codex-submit').onclick=async()=>{const n=document.getElementById('codex-name').value.trim();const c=document.getElementById('codex-category').value;const d=document.getElementById('codex-desc').value.trim();if(!n||!d){alert('Fill all fields');return;}const fn=n.toLowerCase().replace(/[^a-z0-9]+/g,'-')+'.md';const content=`---\nname: ${n}\ndescription: ${d}\nsource: ${location.href}\nadded: ${new Date().toISOString().split('T')[0]}\n---\n\n# ${n}\n\n${d}\n\n## Implementation\n\n\`\`\`\n${s}\n\`\`\`\n`;await navigator.clipboard.writeText(content);o.remove();alert(`✅ Copied! Save as ~/.claude/${c}/${fn}`);};})();
