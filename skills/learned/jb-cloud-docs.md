# Project: JB Cloud Docs

## Context
- Type: Documentation site
- Stack: Astro Starlight, Cloudflare Pages, Tailwind CSS
- Repository: https://github.com/Aventerica89/jb-cloud-docs
- Live URL: https://docs.jbcloud.app/
- Status: Active, maintained

## Key Patterns

### Adding New Projects to Sidebar
When adding a new project directory to the documentation:
1. Add entry to `astro.config.mjs` sidebar array
2. Add directory name to `AUTOGENERATED_DIRS` in `scripts/validate-sidebar.mjs`
3. Both are required or build will fail with "orphaned pages" error

### Build Validation
- `npm run build` runs `validate:sidebar` before Astro build
- Validation script checks all markdown files are discoverable in sidebar
- Options for new files: autogenerate directory, manual listing, or `sidebar.hidden: true`

### Deployment
- Cloudflare Pages auto-deploys on push to main
- Build command: `npm run build`
- Build failures prevent deployment (check validation errors first)

## Session: January 30, 2026

### Accomplished
- Merged PR #4 (SSH Setup Guide) - resolved merge conflict in custom.css
- Merged PR #5 (Claude Code Integration) - added "Using with Claude Code" sections to 33 pages
- Merged PR #6 (jbdocs enhancement) - automatic What's New section updates
- Merged PR #7 (Changelog update) - documented all January 30 work
- Fixed sidebar configuration for Renvio Companion App (build was failing)

### Files Changed
- `astro.config.mjs` - Added Renvio Companion App sidebar entry
- `scripts/validate-sidebar.mjs` - Added renvio-companion-app to AUTOGENERATED_DIRS
- `src/content/docs/changelog.md` - January 30, 2026 entries
- `src/content/docs/index.mdx` - Updated What's New CardGrid
- 33 documentation files - Added "Using with Claude Code" sections

### Debugging Notes
- If site doesn't update after merge, check if build is failing
- Most common cause: new directory not added to both config files
- Cloudflare Pages deployment takes ~60-90 seconds after successful push

## Next Session
- No immediate tasks pending
- Site is fully updated and deployed
- All PRs merged

## Related Commands
- `/jbdocs` - Sync documentation to this site
- Check `~/.claude/commands/jbdocs.md` for workflow
- Check `~/.claude/agents/jbdocs.md` for agent configuration
