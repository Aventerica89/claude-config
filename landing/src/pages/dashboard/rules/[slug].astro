---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import DashboardLayout from '../../../components/dashboard/DashboardLayout';
import { ItemEditor } from '../../../components/dashboard/ItemEditor';
import { rules } from '../../../lib/generated/rules';

export function getStaticPaths() {
  return rules.map((rule) => ({
    params: { slug: rule.slug },
    props: { itemId: rule.id, name: rule.name },
  }))
}

const { slug } = Astro.params;
const { itemId, name } = Astro.props;
---

<BaseLayout title={`${name} - Claude Codex Dashboard`}>
  <DashboardLayout currentPath="/dashboard/rules" client:load>
    <ItemEditor itemId={itemId} client:load />
  </DashboardLayout>
</BaseLayout>
