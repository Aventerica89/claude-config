---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import DashboardLayout from '../../../components/dashboard/DashboardLayout';
import { ItemEditor } from '../../../components/dashboard/ItemEditor';
import { commands } from '../../../lib/generated/commands';

export function getStaticPaths() {
  return commands.map((cmd) => ({
    params: { slug: cmd.slug },
    props: { itemId: cmd.id, name: cmd.name },
  }))
}

const { slug } = Astro.params;
const { itemId, name } = Astro.props;
---

<BaseLayout title={`${name} - Claude Codex Dashboard`}>
  <DashboardLayout currentPath="/dashboard/commands" client:load>
    <ItemEditor itemId={itemId} client:load />
  </DashboardLayout>
</BaseLayout>
